<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meal Details</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background-color: #f8f9fa;
        font-family: Arial, sans-serif;
      } /* nav */

      .navbar {
        background-color: white;
        font-size: large;
      }

      .navbar .navbar-nav .nav-link {
        color: black;
      }

      .navbar .navbar-nav .nav-link.active,
      .navbar .navbar-nav .nav-link:hover {
        color: rgb(252, 145, 87);
        font-weight: bold;
      }

      .navbar-brand {
        color: rgb(252, 145, 87);
      }

      .navbar-toggler {
        color: black;
        border-color: black;
      }

      .navbar-toggler:hover {
        background-color: rgb(252, 145, 87);
      }
      /* //////////////////////////// */

      .meal-details-card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin: 20px auto;
        max-width: 1000px;
        display: flex; /* To make the layout horizontal */
        align-items: flex-start;
      }

      .meal-image-container {
        flex: 1;
      }

      .meal-image {
        width: 100%; /* Full width inside its container */
        height: auto;
        border-radius: 10px;
        object-fit: cover;
      }

      .meal-info {
        flex: 2; /* Take up more space */
        margin-left: 20px;
      }

      .meal-name {
        font-size: 32px;
        font-weight: bold;
        margin: 0;
      }

      .meal-description {
        font-size: 18px;
        color: #6c757d;
        margin: 10px 0;
      }

      .meal-price {
        font-size: 24px;
        font-weight: bold;
        color: #28a745;
        margin-bottom: 20px;
      }

      .order-form input {
        margin-bottom: 15px;
      }

      .size-options label {
        margin-right: 10px;
      }
      /* //////////////////////////////// */
      .btn-orange-dark {
        background-color: rgb(252, 145, 87) !important;
        color: black;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
      }

      .btn-orange-dark:hover {
        background-color: rgb(248, 120, 51) !important;
      }
    </style>
    <link rel="stylesheet" href="css/logstyle.css" />
    <link rel="stylesheet" href="css/popup.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg sticky-top box-shadow">
      <div class="container">
        <a class="navbar-brand orbitron-font fs-1" href="#">Gailak</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fa-solid fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link p-2 p-lg-3 fs-5 active"
                aria-current="page"
                href=""
                id="home"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link p-2 p-lg-3 fs-5 nav-sign openPopup"
                id="openPopup1"
                href=""
                >Sign Up</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link p-2 p-lg-3 fs-5 nav-log openPopup"
                id="openPopup2"
                href=""
                >Login</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link p-2 p-lg-3 fs-5 nav-log openPopup" href=""
                ><span id="userName"></span
              ></a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link p-2 p-lg-3 fs-5 nav-log"
                id="logOutBtn"
                href=""
                style="display: none"
                >Log out</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div id="popup" class="popup">
      <main
        class="d-flex justify-content-center align-items-center"
        style="position: relative"
        class="popup-content"
      >
        <section
          class="d-flex log-form rounded-2 shadow p-3 mb-5 bg-body-tertiary rounded formVisible"
        >
          <section class="signup background">
            <form
              action="pro.html"
              class="d-flex flex-column"
              style="opacity: 0; visibility: hidden"
              id="signform"
            >
              <span id="closePopup" class="close">&times;</span>
              <div class="mb-3 mt-3 sign">
                <label for="firstname">First name:</label>
                <input
                  type="text"
                  class="form-control"
                  id="firstname"
                  placeholder="Enter first name"
                  name="firstname"
                  required
                />
                <label for="lastname">Last name:</label>
                <input
                  type="text"
                  class="form-control"
                  id="lastname"
                  placeholder="Enter last name"
                  name="lastname"
                  required
                />
                <label for="signemail" class="form-label">Email:</label>
                <input
                  type="email"
                  class="form-control"
                  id="signemail"
                  placeholder="Enter email"
                  name="signemail"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="pwd" class="form-label">Password:</label>
                <input
                  type="password"
                  class="form-control"
                  id="signpwd"
                  placeholder="Enter password"
                  name="signpswd"
                  required
                />
              </div>
              <button type="submit" class="btn orange" id="signbtn">
                Sign up
              </button>
              <div class="text-center mt-3">
                <p>
                  Already have an account?
                  <a href="" class="loglink">Login</a>
                </p>
              </div>
            </form>
          </section>
          <section id="login" class="login">
            <form
              action="/action_page.php"
              class="d-flex flex-column"
              id="loginform"
            >
              <span id="closePopup2" class="close">&times;</span>
              <div class="mb-3 mt-3">
                <label for="logemail" class="form-label">Email:</label>
                <div class="d-flex align-items-center">
                  <i class="fa-regular fa-user pe-2"></i>
                  <input
                    type="email"
                    class="form-control"
                    id="logemail"
                    placeholder="Enter email"
                    name="logemail"
                  />
                </div>
              </div>
              <div class="mb-3">
                <label for="pwd" class="form-label">Password:</label>
                <div class="d-flex align-items-center">
                  <i class="fa-solid fa-lock pe-2"></i>
                  <input
                    type="password"
                    class="form-control"
                    id="logpwd"
                    placeholder="Enter password"
                    name="logpswd"
                  />
                </div>
              </div>
              <div class="form-check mb-3">
                <label class="form-check-label">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="remember"
                    id="remembercheck"
                  />
                  Remember me
                </label>
              </div>
              <button type="submit" class="btn orange mt-4" id="logbtn">
                Login
              </button>
              <div class="text-center mt-3">
                <p>
                  Don't have an account?
                  <a href="" class="signlink">Create an account</a>
                </p>
              </div>
            </form>
          </section>
        </section>
      </main>
    </div>

    <div class="container my-5">
      <div class="meal-details-card d-flex justify-content-between">
        <div class="meal-image-container">
          <img id="meal-image" class="meal-image" alt="Meal" />
        </div>
        <div class="meal-info">
          <h1 id="meal-name" class="meal-name">Meal Name</h1>
          <p id="meal-description" class="meal-description">
            Meal description goes here.
          </p>
          <p id="meal-price" class="meal-price">$0.00</p>
          <!-- Order Form -->
          <form id="order-form" class="order-form">
            <label for="quantity">Quantity:</label>
            <input
              type="number"
              id="quantity"
              class="form-control"
              placeholder="Enter quantity"
              min="1"
              value="1"
            />

            <label>Size:</label>
            <div class="size-options mb-3">
              <label>
                <input type="radio" name="size" value="Small" checked /> Small
              </label>
              <label>
                <input type="radio" name="size" value="Medium" /> Medium
              </label>
              <label>
                <input type="radio" name="size" value="Large" /> Large
              </label>
            </div>

            <button
              type="button"
              id="order-button"
              class="btn btn-orange-dark w-100 mt-3"
            >
              Place Order
            </button>
          </form>
        </div>
      </div>
    </div>
    <footer class="footer">
      <ul class="nav justify-content-center pb-3 mb-3">
        <li class="nav-item">
          <a href="#" class="nav-link px-2" id="home2">Home</a>
        </li>
        <li class="nav-item">
          <a href="" class="nav-link px-2 openPopup" id="openPopup3">Sign Up</a>
        </li>
        <li class="nav-item">
          <a href="" class="nav-link px-2 openPopup" id="openPopup4">Login</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link px-2">About Us</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link px-2">Contact Us</a>
        </li>
      </ul>
      <p class="fs-5 copy text-center">©Copyright 2025</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const mealData = {
        1: {
          name: "Big Mac",
          description:
            "A classic McDonald's burger with two all-beef patties, special sauce, lettuce, cheese, pickles, and onions on a sesame seed bun.",
          price: "$5.99",
          image: "images/bigmac.jpg",
        },
        2: {
          name: "McChicken",
          description:
            "A crispy chicken sandwich with lettuce and mayo on a toasted bun.",
          price: "$4.99",
          image: "images/mcchicken.jpg",
        },
        3: {
          name: "French Fries",
          description: "Golden, crispy, and perfectly salted French fries.",
          price: "$2.99",
          image: "images/fries.jpg",
        },
        4: {
          name: "McFlurry",
          description: "Creamy soft serve blended with your favorite mix-ins.",
          price: "$3.99",
          image: "images/mcflurry.jpg",
        },
        5: {
          name: "Filet-O-Fish",
          description:
            "A crispy fish fillet with tartar sauce and cheese on a soft bun.",
          price: "$4.49",
          image: "images/filetofish.jpg",
        },
        6: {
          name: "Apple Pie",
          description: "A warm, crispy, and sweet apple pie.",
          price: "$1.99",
          image: "applepie.jpg",
        },
        7: {
          name: "Chicken Nuggets",
          description:
            "Tender, crispy chicken nuggets served with your choice of dipping sauce.",
          price: "$4.99",
          image: "images/nuggets.jpg",
        },
        8: {
          name: "McMuffin",
          description:
            "A breakfast classic with eggs, cheese, and your choice of sausage or bacon on an English muffin.",
          price: "$3.49",
          image: "images/mcmuffin.jpg",
        },
        9: {
          name: "Vanilla Shake",
          description: "A rich and creamy vanilla-flavored milkshake.",
          price: "$3.49",
          image: "vanillashake.jpg",
        },
        10: {
          name: "Whopper",
          description:
            "Burger King's flame-grilled signature burger with fresh lettuce, tomatoes, and mayo.",
          price: "$6.49",
          image: "images/whopper.jpg",
        },
        11: {
          name: "Onion Rings",
          description: "Crispy, golden onion rings served with dipping sauce.",
          price: "$3.49",
          image: "images/onionrings.jpg",
        },
        12: {
          name: "Chicken Fries",
          description: "Strips of crispy chicken served with dipping sauce.",
          price: "$4.99",
          image: "images/chickenfries.jpg",
        },
        13: {
          name: "Cheeseburger",
          description:
            "A juicy burger topped with melted cheese and classic condiments.",
          price: "$3.99",
          image: "images/cheeseburger.jpg",
        },
        14: {
          name: "BK Stacker",
          description:
            "A double beef patty burger with cheese, bacon, and special sauce.",
          price: "$5.99",
          image: "images/bkstacker.jpg",
        },
        15: {
          name: "French Toast Sticks",
          description:
            "Sweet and crispy French toast sticks served with syrup.",
          price: "$2.99",
          image: "images/frenchtoast.jpg",
        },
        16: {
          name: "Mozzarella Sticks",
          description: "Crispy mozzarella sticks served with marinara sauce.",
          price: "$3.99",
          image: "images/mozzarellasticks.jpg",
        },
        17: {
          name: "Chocolate Shake",
          description: "A thick, creamy, and chocolatey milkshake.",
          price: "$4.49",
          image: "images/chocolateshake.jpg",
        },
        18: {
          name: "Soft Drink",
          description: "A refreshing carbonated soft drink of your choice.",
          price: "$1.99",
          image: "images/softdrink.jpg",
        },
      };

      const urlParams = new URLSearchParams(window.location.search);
      const mealId = urlParams.get("mealId");

      const displayMealDetails = () => {
        const meal = mealData[mealId];
        if (meal) {
          document.getElementById("meal-name").textContent = meal.name;
          document.getElementById("meal-description").textContent =
            meal.description;
          document.getElementById("meal-price").textContent = meal.price;
          document.getElementById("meal-image").src = meal.image;

          // Store the base price for calculation
          document.getElementById("meal-price").dataset.basePrice = parseFloat(
            meal.price.replace("$", "")
          );
        } else {
          document.body.innerHTML =
            '<p class="text-center mt-5">Meal details not found.</p>';
        }
      };

      const updatePrice = () => {
        const quantity =
          parseInt(document.getElementById("quantity").value) || 1;
        const basePrice = parseFloat(
          document.getElementById("meal-price").dataset.basePrice
        );
        const totalPrice = (basePrice * quantity).toFixed(2);
        document.getElementById("meal-price").textContent = `$${totalPrice}`;
      };

      const handleOrder = () => {
        const quantity = parseInt(document.getElementById("quantity").value);
        const size = document.querySelector('input[name="size"]:checked').value;

        if (quantity <= 0) {
          alert("Please enter a quantity greater than 0.");
          return;
        }

        const meal = mealData[mealId];
        const basePrice = parseFloat(meal.price.replace("$", ""));
        const totalPrice = (basePrice * quantity).toFixed(2);

        alert(
          `Order placed!\n\nMeal: ${meal.name}\nQuantity: ${quantity}\nSize: ${size}\nTotal Price: $${totalPrice}`
        );
      };

      document
        .getElementById("order-button")
        .addEventListener("click", handleOrder);
      document
        .getElementById("quantity")
        .addEventListener("input", updatePrice);

      displayMealDetails();
    </script>
    <script src="js/popup.js"></script>
    <script src="js/logscript.js"></script>
  </body>
</html>
